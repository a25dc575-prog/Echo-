# 🎵 Echo 音樂社交平台 - 完整功能指南 V7.5

## 🌟 平台概覽

Echo 是一個結合音樂品味配對、演唱會社交和即時聊天的音樂社交平台，採用現代化的夜間模式設計，支援日英雙語即時切換。

### 核心特色
- 🎨 **品牌色**：Cyber Teal (#17D1C1) - 科技感十足的藍綠色
- 🌓 **主題系統**：絲滑的日/夜模式切換
- 🌍 **多語言**：日文/英文即時切換
- 📱 **響應式**：完美支援桌面、平板、手機
- 🎵 **音樂基因**：雷達圖展示音樂品味分布
- 👥 **社交配對**：基於音樂品味的用戶匹配
- 🎤 **演唱會**：查看誰也要參加同場演出
- 💬 **聊天系統**：夜間模式 UI + 音樂卡片嵌入

---

## 📋 功能模組

### 1. 首頁（Home）
**共鳴中心 (Resonance Hub)**

#### 音樂基因雷達圖
- 五邊形雷達圖展示 5 種音樂類型偏好
- 互動式懸停提示
- 音頻波形加載動畫

#### 今日最匹配推薦
- 顯示匹配度最高的 2 位用戶
- 展示共同喜愛的藝人
- 一鍵開始聊天

#### 推薦歌單網格
- 4x1 網格展示相似歌單
- 相似度百分比標記
- 曲目數量統計

#### 即將到來的演唱會
- 3列網格展示演唱會資訊
- 藝人、日期、地點
- 參加人數和參與用戶頭像

---

### 2. 配對頁面（Matches）

#### 位置匹配開關
- 啟用/停用位置匹配功能
- 顯示附近用戶

#### 音樂標籤過濾
- 9 種音樂標籤可選
- 多選過濾功能
- 即時更新配對結果

#### 用戶配對卡片
- 3列網格佈局
- 顯示：
  - 用戶頭像與在線狀態
  - 音樂標籤（最多 3 個）
  - 匹配度百分比
  - 共同喜愛藝人
  - 開始聊天按鈕

---

### 3. 演唱會頁面（Concerts）

#### 演唱會卡片
- 大尺寸封面圖
- 藝人名稱與巡演標題
- 日期與場館資訊
- 感興趣人數統計

#### 演唱會詳情彈窗
- 全螢幕模態視窗
- 完整演唱會資訊
- 參與用戶列表
- 一鍵加入群聊功能
- 購票按鈕

---

### 4. 聊天系統（Chat）

#### 聊天側邊欄
- 對話列表
- 未讀訊息計數
- 最後訊息預覽
- 時間戳記

#### 聊天室
- 氣泡式訊息設計
- 已讀回執：
  - 日文：既読
  - 英文：Read
- 音樂卡片嵌入：
  - 封面縮圖
  - 歌曲名稱與藝人
  - 點擊播放功能
- 訊息輸入框
- 發送按鈕

---

### 5. 個人頁面（Profile）✨ 新功能

#### 封面與頭像
- **封面圖**：1200x400px，漸變遮罩效果
- **頭像**：圓形，桌面 160px，移動端 128px
- **音樂徽章**：右下角懸浮圖標
- **編輯按鈕**：右上角半透明按鈕

#### 個人資訊區
- 顯示名稱與用戶名
- 個人簡介（Bio）
- 所在地與加入日期
- 圖標指示（地圖釘、日曆）

#### 統計數據卡片（5 格網格）
| 統計項目 | 範例數值 | 顏色 |
|---------|---------|------|
| 總曲目數 | 1,247 | Cyber Teal |
| 聆聽時數 | 3,892h | Cyber Teal |
| 最愛藝人 | 156 | Cyber Teal |
| 追蹤者 | 892 | Cyber Teal |
| 追蹤中 | 634 | Cyber Teal |

#### 音樂曲風分布圖
- **圖表類型**：環形圖（Doughnut Chart）
- **顯示方式**：
  - 扇形區塊 + 百分比
  - 底部圖例列表
  - 懸停互動提示
- **預設曲風**：
  - J-Pop (28%) - #17D1C1
  - Electronic (22%) - #8B5CF6
  - Rock (18%) - #F59E0B
  - Jazz (15%) - #EC4899
  - Indie (10%) - #10B981
  - Classical (7%) - #3B82F6

#### 喜歡的音樂列表
- 展示最愛的 5 首歌曲
- 每首歌顯示：
  - 封面縮圖（56x56px）
  - 歌曲名稱與藝人
  - 專輯名稱
  - 播放時長與播放次數
- 懸停播放按鈕
- 「查看全部」按鈕

#### 最近播放記錄
- 4 列網格（桌面）
- 每個卡片顯示：
  - 方形封面圖（1:1）
  - 歌曲名稱與藝人
  - 相對時間戳記（2 minutes ago）
- 懸停圓形播放按鈕

---

### 6. 搜尋頁面（Search）

#### 搜尋列
- 置頂固定
- 即時搜尋建議
- 最近搜尋歷史
- 清除歷史按鈕

#### 急上昇排行榜
- 10 首熱門歌曲
- 排名變動指標：
  - 🔥 NEW - 新上榜
  - ↑ - 上升（顯示上升名次）
  - ↓ - 下降（顯示下降名次）
  - → - 持平
- 封面、歌名、藝人
- 聆聽人數統計

#### 級聯選擇器
- **第一層**：國家（日本、美國、韓國）
- **第二層**：城市（依國家動態變化）
- **第三層**：音樂類型

#### 批次操作
- 核取方塊多選歌曲
- 顯示已選數量
- 「加入播放清單」按鈕
- 「清除選擇」按鈕

#### 分頁系統
- 頁碼導航
- 上一頁/下一頁按鈕
- 當前頁高亮

#### 影片推薦
- 2列網格佈局
- 顯示：
  - 縮圖（16:9）
  - 標題
  - 播放時長
  - 徽章類型：
    - 基於你的聆聽
    - 熱門於...（地點）
    - 官方

#### 熱門類別卡片
- 4 張橫幅卡片
- 漸變色背景
- 日英雙語標題

---

## 🎨 設計系統

### 品牌色彩

#### Cyber Teal 主色
```css
--primary: #17D1C1
```

#### 日間模式配色
```css
--background: #FFFFFF        /* 純白背景 */
--card: #F9F9F9             /* 淡灰容器 */
--foreground: #000000       /* 黑色文字 */
--muted-foreground: #666666 /* 次要文字 */
--border: rgba(0,0,0,0.1)   /* 淡化邊框 */
```

#### 夜間模式配色
```css
--background: #0A0A0A       /* 純黑背景 */
--card: #121212            /* 深灰容器 */
--foreground: #FFFFFF      /* 白色文字 */
--muted-foreground: #B3B3B3 /* 銀灰次要文字 */
--border: #444444          /* 深色邊框 */
```

### 主題切換系統

#### ThemeContext
- 全域主題狀態管理
- localStorage 持久化
- 自動同步到 document root

#### ThemeToggle 按鈕
- **太陽圖標 ☀️**：橙色，日間模式
- **月亮圖標 🌙**：藍色，夜間模式
- 500ms 旋轉+縮放動畫
- Hover 波紋效果

#### CSS Variables 過渡
```css
transition-property: background-color, border-color, color, fill, stroke, box-shadow;
transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
transition-duration: 300ms;
```

### 字體系統
- **主字體**：Noto Sans JP
- **標題**：Medium 500
- **正文**：Regular 400
- **基準大小**：16px

### 圓角規範
```css
--radius-sm: 6px   /* 小元素 */
--radius-md: 8px   /* 中元素 */
--radius-lg: 10px  /* 大元素 */
--radius-xl: 14px  /* 特大元素 */
```

---

## 🌍 多語言系統

### LanguageContext
- 支援語言：日文（JP）、英文（EN）
- 即時切換無需重載
- 所有 UI 文字完整翻譯

### 語言切換按鈕
- 頂欄右側
- 顯示當前語言
- 下拉選單選擇

### 翻譯覆蓋範圍
- ✅ 導航選單
- ✅ 功能按鈕
- ✅ 表單標籤
- ✅ 提示訊息
- ✅ 錯誤訊息
- ✅ 空狀態文字
- ✅ 統計標籤
- ✅ 日期時間格式

---

## 📱 響應式設計

### 斷點策略
```css
/* Mobile */
@media (max-width: 767px) { ... }

/* Tablet */
@media (min-width: 768px) and (max-width: 1023px) { ... }

/* Desktop */
@media (min-width: 1024px) { ... }
```

### 佈局調整

#### 導航欄
- **桌面**：固定左側豎欄（80px 寬）
- **移動端**：底部固定橫欄

#### 主內容區
- **桌面**：中央內容 + 右側聊天
- **移動端**：全螢幕內容，聊天側邊欄可滑出

#### 網格系統
| 組件 | 手機 | 平板 | 桌面 |
|------|------|------|------|
| 配對卡片 | 1列 | 2列 | 3列 |
| 演唱會卡片 | 1列 | 2列 | 3列 |
| 歌單網格 | 1列 | 2列 | 4列 |
| 統計卡片 | 2列 | 5列 | 5列 |
| 最近播放 | 1列 | 2列 | 4列 |

---

## 🔧 技術架構

### 前端框架
- **React 18.3.1**
- **TypeScript**
- **Vite 6.3.5**

### UI 組件庫
- **Radix UI**：無障礙基礎組件
- **Tailwind CSS 4.1**：實用優先 CSS
- **Lucide React**：圖標庫
- **Recharts 2.15**：圖表庫

### 狀態管理
- **React Context API**
  - ThemeContext：主題管理
  - LanguageContext：語言管理
- **React Hooks**
  - useState：本地狀態
  - useEffect：副作用處理
  - useContext：全域狀態存取

### 資料模擬
- **mockData.ts**：所有靜態資料
- 包含：
  - 用戶資料
  - 歌單資料
  - 演唱會資料
  - 聊天對話
  - 排行榜歌曲
  - 影片推薦
  - 個人檔案

---

## 🚀 效能優化

### 圖片優化
- **來源**：Unsplash API
- **尺寸**：動態指定寬高參數
- **格式**：WebP（自動）
- **懶加載**：視窗外圖片延遲載入

### 程式碼分割
- **動態導入**：大型組件按需載入
- **Tree Shaking**：未使用程式碼自動剔除

### CSS 優化
- **Tailwind JIT**：即時編譯，僅產生使用到的類
- **CSS Variables**：主題切換零重繪
- **GPU 加速**：transform 和 opacity 動畫

### 資料快取
- **LocalStorage**：
  - 主題偏好
  - 語言設定
  - 搜尋歷史
- **未來規劃**：IndexedDB 儲存大型資料

---

## 🎯 無障礙設計（A11y）

### ARIA 標籤
- 所有互動元素帶有 aria-label
- 導航有完整語意結構
- 表單輸入有對應標籤

### 鍵盤導航
- Tab 鍵順序符合邏輯
- Enter 和 Space 觸發按鈕
- Esc 關閉彈窗

### 螢幕閱讀器支援
- 圖片有 alt 描述
- 圖標按鈕有文字說明
- 狀態變化有 live region 通知

### 色彩對比
- 日間模式：至少 4.5:1
- 夜間模式：至少 7:1
- 主色 (#17D1C1) 在兩種模式都通過 AA 級別

---

## 📦 檔案結構

```
/src
├── /app
│   ├── /components
│   │   ├── Navigation.tsx
│   │   ├── LanguageToggle.tsx
│   │   ├── ThemeToggle.tsx
│   │   ├── MusicRadar.tsx
│   │   ├── MatchCard.tsx
│   │   ├── PlaylistGrid.tsx
│   │   ├── ConcertCard.tsx
│   │   ├── ConcertDetail.tsx
│   │   ├── ChatSidebar.tsx
│   │   ├── ChatRoom.tsx
│   │   ├── EmptyState.tsx
│   │   ├── MusicTagsFilter.tsx
│   │   ├── LocationMatchToggle.tsx
│   │   ├── SearchPage.tsx
│   │   ├── ProfilePage.tsx      ← 新增
│   │   └── /ui
│   │       ├── button.tsx
│   │       ├── input.tsx
│   │       ├── progress.tsx
│   │       ├── popover.tsx
│   │       ├── drawer.tsx
│   │       └── ...
│   ├── /contexts
│   │   ├── LanguageContext.tsx
│   │   └── ThemeContext.tsx    ← 新增
│   ├── /data
│   │   └── mockData.ts          ← 擴充
│   └── App.tsx
├── /styles
│   ├── theme.css                ← 更新
│   └── fonts.css
└── main.tsx
```

---

## 🔮 未來規劃

### 短期目標（1-3個月）
- [ ] 整合 Spotify API 取得真實音樂資料
- [ ] 實作音樂播放器
- [ ] 加入用戶註冊/登入系統
- [ ] 推播通知功能
- [ ] 歌單建立與編輯

### 中期目標（3-6個月）
- [ ] 演唱會票券購買整合
- [ ] 群組聊天功能
- [ ] 音樂活動建立與管理
- [ ] 用戶追蹤與粉絲系統
- [ ] 音樂品味相似度演算法優化

### 長期目標（6-12個月）
- [ ] AI 音樂推薦引擎
- [ ] 年度音樂回顧（Echo Wrapped）
- [ ] 社群動態牆
- [ ] 音樂挑戰與成就系統
- [ ] 跨平台音樂服務整合（Apple Music, YouTube Music）

---

## 📚 開發指南

### 安裝依賴
```bash
pnpm install
```

### 本地開發
```bash
pnpm run dev
```

### 生產建置
```bash
pnpm run build
```

### 新增組件步驟
1. 在 `/src/app/components` 建立 `.tsx` 檔案
2. 匯入必要的 hooks 和工具
3. 定義 TypeScript 介面
4. 實作組件邏輯
5. 在 `App.tsx` 中引入使用

### 新增翻譯
1. 打開 `/src/app/contexts/LanguageContext.tsx`
2. 在 `translations.JP` 和 `translations.EN` 中新增鍵值對
3. 使用 `const { t } = useLanguage()` 存取翻譯

### 更新主題色
1. 修改 `/src/styles/theme.css` 中的 CSS Variables
2. 同時更新 `:root` 和 `.dark` 兩個區塊
3. 重新啟動開發伺服器

---

## 🐛 已知問題

### 目前沒有重大問題 ✅

如果您發現任何問題，請回報給開發團隊。

---

## 📄 授權

此專案僅供學習和展示用途。

---

## 👥 開發團隊

**Echo Development Team**
- 版本：V7.5
- 最後更新：2024-12-24

---

**感謝使用 Echo 音樂社交平台！🎵**
